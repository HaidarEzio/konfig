<div class="drawer h-full">
    <input id="chats" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content h-full flex flex-col">
        <header class="flex items-end min-h-14 w-full px-4 lg:px-32 bg-white border-b">
            <div class="flex-1 flex items-center h-full gap-8">
                <a href="{% url 'chat_view' %}"
                   class="btn btn-ghost text-lg font-extrabold text-purple-800">konfig</a>
            </div>
            <div class="flex-none flex items-center h-full">
                <a class="mr-6" target="_blank" href="https://konfigthis.com/docs">Documentation</a>
                <a class="mr-10" target="_blank" href="https://konfigthis.com/docs">Guides</a>
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="avatar placeholder">
                        <div class="bg-neutral text-neutral-content rounded-full w-9">
                            <span class="text-lg">{{ user.username|slice:":1"|upper }}</span>
                        </div>
                    </div>
                    <form method="post" action="{% url 'logout' %}" class="inline">
                        <ul tabindex="0"
                            class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow rounded-box bg-base-100 w-52">
                            <li>
                                {% csrf_token %}
                                <button type="submit">Logout</button>
                            </li>
                        </ul>
                    </form>
                </div>
            </div>
        </header>
        <header class="navbar bg-slate-50 border-b px-4 lg:px-32 sticky top-0 z-40">
            <div class="breadcrumbs">
                <ul>
                    <li class="text-slate-500">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             fill="none"
                             viewBox="0 0 24 24"
                             stroke-width="1.5"
                             stroke="currentColor"
                             class="w-4 h-4 mr-1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
                        </svg>
                        {{ current_organization.name }}
                    </li>
                    <li class="text-slate-500">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             fill="none"
                             viewBox="0 0 24 24"
                             stroke-width="1.5"
                             stroke="currentColor"
                             class="w-4 h-4 mr-2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
                        </svg>
                        Guides
                    </li>
                    {% if current_chat %}
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-4 h-4 mr-2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                            </svg>
                            {{ current_chat.name }}
                        </li>
                    {% else %}
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-4 h-4 mr-2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                            </svg>
                            Create Guide
                        </li>
                    {% endif %}
                </ul>
            </div>
        </header>
        <main class="flex-grow flex">
            <div class="px-1 py-1 h-full">
                <label for="chats" class="btn btn-ghost btn-xs drawer-button h-full">{% include "chevron_right.html" %}</label>
            </div>
            <div id="container" class="h-full flex-grow">
                {% comment %} {% include "_chat_container_inner.html" %} {% endcomment %}
                {% include "_chat_container_inner2.html" %}
            </div>
        </main>
        <footer>
            <!-- Add your footer content here -->
        </footer>
    </div>
    <div class="drawer-side z-50">
        <label for="chats" aria-label="close sidebar" class="drawer-overlay z-10"></label>
        <ul class="menu px-4 pt-0 pb-4 w-80 min-h-full bg-base-200 text-base-content z-20">
            <li class="sticky top-0 pt-4 bg-base-200 z-10">
                <a href="{% url 'chat_view' %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                    </svg>
                    <span>Create Guide</span>
                </a>
            </li>
            {% for chat in chats %}
                <li class="{% if chat.id == current_chat.id %}bg-slate-700 text-white rounded-btn{% else %}text-slate-500{% endif %}">
                    <a href="{% url 'specific_chat_view' chat_id=chat.chat_id %}">{{ chat.name }}</a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
