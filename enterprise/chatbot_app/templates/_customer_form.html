<li class="pb-10 pl-6 border-l {% if current_chat %}border-l-green-200{% endif %}">
    <span class="absolute flex items-center justify-center w-8 h-8 bg-green-200 rounded-full -start-4 ring-4 ring-slate-50 dark:ring-slate-900 dark:bg-slate-700">
        <svg class="w-3.5 h-3.5 text-green-900 dark:text-slate-400"
             aria-hidden="true"
             xmlns="http://www.w3.org/2000/svg"
             fill="currentColor"
             viewBox="0 0 20 16">
            <path d="M18 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2ZM6.5 3a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM3.014 13.021l.157-.625A3.427 3.427 0 0 1 6.5 9.571a3.426 3.426 0 0 1 3.322 2.805l.159.622-6.967.023ZM16 12h-3a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Z" />
        </svg>
    </span>
    <h3 class="font-medium leading-tight text-slate-800">Customer</h3>
    <p class="text-sm">Select a customer</p>
    <div class="mt-3">
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400">
                <thead class="text-xs text-slate-8t 00 uppercase bg-slate-200 dark:bg-slate-700 dark:text-slate-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">Customer</th>
                        <th scope="col" class="px-6 py-3">Configuration</th>
                        <th scope="col" class="px-6 py-3">
                            <span class="sr-only">Select</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for customer in customers %}
                        <tr class="bg-white border-b dark:bg-slate-800 dark:border-slate-700">
                            <th scope="row"
                                class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap dark:text-white">
                                {{ customer.name }}
                            </th>
                            <td class="px-6 py-4">
                                <button class="btn btn-sm"
                                        onclick="{{ customer.id }}_configuration.showModal()">
                                    View Configuration
                                </button>
                                <dialog id="{{ customer.id }}_configuration" class="modal">
                                    <div class="modal-box">
                                        <div class="flex items-center justify-between pb-4">
                                            <h3 class="font-bold text-lg">{{ customer.name }} Configuration</h3>
                                            <form method="dialog">
                                                <button class="btn btn-sm btn-circle btn-ghost">âœ•</button>
                                            </form>
                                        </div>
                                        <div class="max-h-96 overflow-y-auto">
                                            <pre><code class="language-json">{{ customer.configuration_formatted }}</code></pre>
                                        </div>
                                    </div>
                                    <form method="dialog" class="modal-backdrop">
                                        <button>close</button>
                                    </form>
                                </dialog>
                            </td>
                            <td class="px-6 py-4 text-right">
                                {% if current_customer %}
                                    {% if current_customer == customer.id %}
                                        <span class="font-bold">Selected</span>
                                    {% else %}
                                    {% endif %}
                                {% else %}
                                    <button name="customer_id"
                                            value="{{ customer.id }}"
                                            hx-post="{% url 'select_customer' %}"
                                            hx-target="body"
                                            class="btn btn-primary btn-sm">Select</button>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</li>
